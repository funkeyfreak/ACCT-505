
<html>
	<head>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
		<link rel="stylesheet" type="text/css" href="main.css">

		<script type="text/javascript">
		var options = new Array();
		var select = new Array();

		// Set values for select boxes
		options[0] = ["Asset","Stockholders' Equity","Liabilities"];
		options[1] = ["Cash","Equipment","Supplies","Accounts Receivable","Advertising Expense","Dividends Paid"];
		options[2] = ["Increase","Decrease"];
		options[3] = ["Debit", "Credit"];
		options[4] = ["Common Stock","Cash","Accounts Payable","Revenue","Accounts Receivable"];

		select[0] = 0;
		select[1] = 1;
		select[2] = 2;
		select[3] = 3;
		select[4] = 0;
		select[5] = 4;
		select[6] = 2;
		select[7] = 3;

		// Set solution tables
		var solution = new Array();
		solution[0] = [0,0,0,0,1,0,0,1];
		solution[1] = [0,1,0,0,0,1,1,0];
		solution[2] = [0,2,0,0,2,2,0,1];
		solution[3] = [0,3,0,0,1,3,0,1];
		solution[4] = [1,4,0,0,0,1,1,0];
		solution[5] = [0,0,0,0,0,4,1,0];
		solution[6] = [1,5,0,0,0,1,1,0];

		var num_rows = 1;

		$(function() {

			//Generate options
			for(var i = 0; i<select.length;i++) {
				for (var j = 0;j<options[select[i]].length;j++){
					var html = '<option value="' + j + '">' + options[select[i]][j] + '</option>';
					$('select.'+i).append(html);
				}
			}

			$('.row:last .add_row').html('<button id="add_row_btn" onClick="javascript:add_row();">Add a row</button>');

			$('select').live("focusout", function(){
				compare();
			});	
		});

		
		function add_row(){

			num_rows++;
			$('#calculations').append(function(){
				var html = $('#calculations .row:first').html();
				return '<div id="'+ num_rows +'" class="row">'+ html +'</div>';
			});
			$('.add_row').html('&nbsp;');
			$('.row:last .add_row').html('<button id="add_row_btn" onClick="javascript:add_row();">Add a row</button>');
			$('.row div.add_row').append(function(){
				return '<span class="num">'+ $(this).parent().attr('id') + '</span>';
			});
			for(var i = 0; i < 8;i++) {
				$('#'+ num_rows +'.row select.' + i).removeClass('bad');
				$('#'+ num_rows +'.row select.' + i).removeClass('good');
			}
		}
		$(window).bind('beforeunload', function(){
			return 'Leaving this page will wipe all your data.';
		});

		function compare (){
			for(i = 0; i < solution.length; i++){
				$('#'+ (i+1) +'.row select option:selected').each(function (x,val){
					if(solution[i][x] == val.value){
						$('#'+ (i+1) +'.row select.' + x).removeClass('bad');
						$('#'+ (i+1) +'.row select.' + x).addClass('good');
					} else {
						$('#'+ (i+1) +'.row select.' + x).removeClass('good');
						$('#'+ (i+1) +'.row select.' + x).addClass('bad');
					}
				});
			}
			
		}
		</script>

	<body>
		<div id="calculations">
			<div class="row" id="1">
				<div class="add_row"></div>
				<select class="0">
					<option>Choose a type</option>
				</select>
				<select class="1">
					<option>Choose an Account</option>
				</select>
				<select class="2">
					<option>Choose an Effect</option>
				</select>
				<select class="3">
					<option>Choose a Balance</option>
				</select>
				<span class="line"></span>
				<select class="4">
					<option>Choose a type</option>
				</select>
				<select class="5">
					<option>Choose an Account</option>
				</select>
				<select class="6">
					<option>Choose an Effect</option>
				</select>
				<select class="7">
					<option>Choose a Balance</option>
				</select>
			</div>
		</div>
			
	</body>
</html>