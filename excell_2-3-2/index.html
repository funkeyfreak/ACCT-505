<html>

	<head>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
		<script src="http://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.0.3/bootstrap.min.js"></script>
		<script src="js/bootstrap-datepicker.js"></script>
		<link href="css/main.css" rel="stylesheet">
		<link href="http://twitter.github.com/bootstrap/assets/css/bootstrap.css" rel="stylesheet">
		<link href="css/datepicker.css" rel="stylesheet">
		<title></title>
		<script>
		var options = new Array("Cash","Accounts Payable","Accounts Receivable","Service Revenue","Supplies","Equipment","Salaries Expense","Prepaid Insurance","Equipment Repairs Expense");
		var num_rows = 1;

		// Column names
			var columns = {
				0:'.date_1',
				1:'.description_1',
				2:'.description_2',
				3:'.amount'
				
			};


		// Set solution tables
		var solution = new Array();
		solution[0] = ['0',0,0,0];
		solution[1] = [0,1,0,0];
		solution[2] = [0,2,0,0];
		solution[3] = [0,3,0,0];
		solution[4] = [1,4,0,0];
		solution[5] = [0,0,0,0];
		solution[6] = [1,5,0,0];

		function add_row(){

			num_rows++;
			$('#container').append(function(){
				var html = $('#container div.row:first').html();
				return '<div id="'+ num_rows +'" class="row">'+ html +'</div>';
			});
			$('.add_row').html('&nbsp;');
			$('.row:last div.add_row').html('<button id="add_row_btn" onClick="javascript:add_row();">Add a row</button>');
			$('.row div.add_row').append(function(){
				return '<span class="num">'+ $(this).parent().attr('id') + '</span>';
			});

			$('.date_1').datepicker();
		}

		function loop(column) {
			
			$('.row '+ column ).each(function(i,n){
				if(column == ".description_1" || column== ".description_2") {
					var e = n.options[n.selectedIndex]
					alert(e.text);
				}else{
					alert(n.value);
				}
				
			});
		    
		}

		function calculations(){
			$.each(columns,function(i,n){
				loop(n);
			})
		}


		$(function(){
			$('.date_1').datepicker();
				
			

			//Generate options
			for(var i = 0; i<options.length;i++) {
				
				var html = '<option>' + options[i] + '</option>';
				$('select').append(html);
			}

			$('.row:last .add_row').html('<button id="add_row_btn" onClick="javascript:add_row();">Add a row</button>');

			$('input').live("focusout", function(){
				calculations();
			});

			$('select').live("focusout", function(){
				calculations();
			});


		});

		</script>
	</head>

	<body>
		<div id="container">
			<div id="1" class="row">
				<div class="add_row"></div>
				<div id="trans_date">
					<input type="text" value="02/16/2012" class="date_1" >
				</div>

				<div id="description">
					<select class="description_1">
						<option >Choose a description</option>
					</select>
					<br />
					<select class="description_2">
						<option >Choose a description</option>
					</select>
				</div>

				<div id="values">
					$<input class="amount" type="text">
					<br />
					$<input type="text">
				</div>

			</div>
		</div>

	</body>

</html>